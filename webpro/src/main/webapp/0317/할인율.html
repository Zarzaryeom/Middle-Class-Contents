<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../CSS/public.css">
<style>
.dimg {
	width : 180px;
	height : 300px;
	display : inline;
	text-align: center;
}
#result1{ 
 	width : auto;
 	height : auto;
 	display : flex;
 	justify-content: space-around;
 	align-items: flex-start;
} 
img{
	width : 80%;
	height : 80%;
}
</style>
<script>

window.onload = function(){
	dimg = document.getElementsByClassName('dimg');
	
	
	for(let i = 0; i < dimg.length; i++){
		dimg[i].addEventListener('click', addPtag2);
	}
	
}


function addPtag() {
	
	if(this.childNodes.length < 4){
	num = parseInt(Math.random()*6 + 5);
	
	ptag = document.createElement('p');
	
	textPtag = document.createTextNode("할인률은 " + num + "% 입니다.");
	
	ptag.appendChild(textPtag)
	
	this.appendChild(ptag);
	}
// 	document.getElementById('result3').innerHTML += this + "<br>";
// 	document.getElementById('result3').innerHTML += this.size + "<br>";
// 	document.getElementById('result3').innerHTML += this.firstChild.length + "<br>";
// 	document.getElementById('result3').innerHTML += this.childNodes.length;
}

ptag = null;
function addPtag2() {
	
	if(ptag != null){
		ptag.parentNode.removeChild(ptag);
	}
	
	num = parseInt(Math.random()*6 + 5);
	
	ptag = document.createElement('p');
	
	textPtag = document.createTextNode("할인률은 " + num + "% 입니다.");
	
	ptag.appendChild(textPtag)
	
	this.appendChild(ptag);

	//click 이벤트 종료
	this.removeEventListener('click', addPtag2);
}
	

</script>
</head>
<body>

<div class="box">
    <pre>
    파랑색 div에 4개의 in-div를 넣고 in-div에는 img가 삽입되어 있다.
    파랑색 div를 클릭하면 랜덤을 5~10 생성
    생성한 숫자를 바탕으로 textNode를 생성(ex : 할인율 5%)
    
    p태그를 생성
    p태그에 textNode를 자식으로 추가한다.
    
    p태그를 파랑색 div에 자식으로 추가한다.
    
    클릭 이벤트를 각각 in-div에 onclick으로 설정하지 않고 일괄 등록 방식으로 한다.
    </pre>
  <div id="result1">
  
    <div class="dimg">
      <img src="../images/가구1.jpg" alt="가구1.jpg">
    </div>
    
    <div class="dimg">
      <img src="../images/스포츠1.jpg" alt="스포츠1.jpg">
    </div>
    
    <div class="dimg">
      <img src="../images/스포츠2.jpg" alt="스포츠2.jpg">
    </div>
    
    <div class="dimg">
      <img src="../images/옷1.jpg" alt="옷1.jpg">
    </div>  
    
  </div>
<!--   <div id="result2"></div> -->
<!--   <div id="result3"></div> -->
</div>
</body>
</html>